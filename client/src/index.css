@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    box-sizing: border-box;
  }
  
  html {
    overflow-x: hidden;
    width: 100%;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    background: linear-gradient(to bottom, rgb(250, 245, 255), rgb(250, 245, 255), rgb(240, 253, 244));
    min-height: 100vh;
  }
  
  body {
    overflow-x: hidden !important;
    width: 100%;
    max-width: 100vw;
    position: relative;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
    background: linear-gradient(to bottom, rgb(250, 245, 255), rgb(250, 245, 255), rgb(240, 253, 244));
    min-height: 100vh;
  }
  
  #root {
    overflow-x: hidden;
    width: 100%;
    max-width: 100vw;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  }
}

@layer utilities {
  .table-responsive {
    @apply overflow-x-auto -mx-2 sm:mx-0;
  }
  
  .text-truncate {
    @apply overflow-hidden text-ellipsis whitespace-nowrap;
  }
  
  .container-responsive {
    @apply w-full max-w-full overflow-x-hidden;
  }
}

/* Responsive table: 100% width on large screens (laptop+), horizontal scroll on smaller screens */
@media (min-width: 1024px) {
  .responsive-table-container {
    overflow-x: visible !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  .responsive-table-container > table {
    width: 100% !important;
    min-width: 0 !important;
    max-width: 100% !important;
    table-layout: auto !important;
  }

  /* Override inline styles for tables with fixed widths on large screens */
  .responsive-table-container table[style*="minWidth"],
  .responsive-table-container table[style*="min-width"] {
    width: 100% !important;
    min-width: 0 !important;
    max-width: 100% !important;
  }

  /* Ensure colgroup doesn't force fixed widths on large screens */
  .responsive-table-container colgroup col {
    width: auto !important;
    min-width: 0 !important;
  }

  /* Make table cells flexible on large screens */
  .responsive-table-container th,
  .responsive-table-container td {
    max-width: none !important;
  }
}

/* Tablet and below: Keep fixed widths and horizontal scroll */
@media (max-width: 1023px) {
  .responsive-table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
    width: 100% !important;
    max-width: 100% !important;
  }

  .responsive-table-container table {
    min-width: max-content !important;
  }
  
  /* Ensure tables with minWidth maintain their size on smaller screens */
  .responsive-table-container table[style*="minWidth"],
  .responsive-table-container table[style*="min-width"] {
    min-width: inherit !important;
  }
}

@media (max-width: 640px) {
  table {
    font-size: 0.75rem !important;
  }
  
  table th,
  table td {
    padding: 0.5rem !important;
    white-space: nowrap;
    font-size: 0.75rem !important;
  }
  
  /* Force all containers to respect viewport */
  .flex-1,
  .w-full,
  div {
    max-width: 100vw !important;
  }
  
  /* Ensure no element causes horizontal scroll */
  * {
    max-width: 100%;
  }
}

/* Prevent horizontal scroll */
.overflow-x-auto {
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
}

.overflow-x-auto::-webkit-scrollbar {
  height: 6px;
}

.overflow-x-auto::-webkit-scrollbar-thumb {
  background: #cbd5e0;
  border-radius: 3px;
}

.overflow-x-auto::-webkit-scrollbar-track {
  background: #f7fafc;
}
